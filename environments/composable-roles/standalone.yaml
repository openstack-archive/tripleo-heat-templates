# *******************************************************************
# This file was created automatically by the sample environment
# generator. Developers should use `tox -e genconfig` to update it.
# Users are recommended to make changes to a copy of the file instead
# of the original, if any customizations are needed.
# *******************************************************************
# title: Controller HA deployment with standalone Database, Messaging and Networker nodes.
# description: |
#   A Heat environment that can be used to deploy controller, database,
#   messaging, networker and compute services in an HA configuration with SSL
#   everywhere and network isolation.
#   This should be used with a roles_data.yaml containing the
#   ControllerOpenstack, Database, Messaging, Networker, Compute and
#   CephStorage roles.
#   openstack overcloud roles generate -o ~/roles_data.yaml ControllerOpenstack Database Messaging Networker Compute CephStorage
parameter_defaults:
  # Number of CephStorage nodes to deploy
  # Type: number
  CephStorageCount: 1

  # Format for CephStorage node hostnames Note %index% is translated into the index of the node, e.g 0/1/2 etc and %stackname% is replaced with the stack name e.g overcloud
  # Type: string
  CephStorageHostnameFormat: '%stackname%-cephstorage-%index%'

  # Number of Compute nodes to deploy
  # Type: number
  ComputeCount: 1

  # Format for Compute node hostnames Note %index% is translated into the index of the node, e.g 0/1/2 etc and %stackname% is replaced with the stack name e.g overcloud
  # Type: string
  ComputeHostnameFormat: '%stackname%-novacompute-%index%'

  # Number of ControllerOpenstack nodes
  # Type: number
  ControllerOpenstackCount: 3

  # Format for ControllerOpenstack node hostnames Note %index% is translated into the index of the node, e.g 0/1/2 etc and %stackname% is replaced with the stack name e.g overcloud
  # Type: string
  ControllerOpenstackHostnameFormat: '%stackname%-controller-%index%'

  # Number of Database nodes
  # Type: number
  DatabaseCount: 3

  # DNS servers to use for the Overcloud (2 max for some implementations). If not set the nameservers configured in the ctlplane subnet(s) on the undercloud will be used.
  # Type: comma_delimited_list
  DnsServers: []

  # Number of Messaging nodes
  # Type: number
  MessagingCount: 3

  # Number of Networker nodes
  # Type: number
  NetworkerCount: 2

  # NTP servers list. Defaulted to a set of pool.ntp.org servers in order to have a sane default for Pacemaker deployments when not configuring this parameter by default.
  # Type: comma_delimited_list
  NtpServer: ['0.pool.ntp.org', '1.pool.ntp.org', '2.pool.ntp.org', '3.pool.ntp.org']

  # Name of the flavor for Ceph nodes
  # Type: string
  OvercloudCephStorageFlavor: ceph

  # Name of the flavor for Compute nodes
  # Type: string
  OvercloudComputeFlavor: compute

  # Name of the flavor for ControllerOpenstack nodes
  # Type: string
  OvercloudControllerOpenstackFlavor: control

  # Name of the flavor for Database nodes
  # Type: string
  OvercloudDatabaseFlavor: db

  # Name of the flavor for Messaging nodes
  # Type: string
  OvercloudMessagingFlavor: messaging

  # Name of the flavor for Networker nodes
  # Type: string
  OvercloudNetworkerFlavor: networker


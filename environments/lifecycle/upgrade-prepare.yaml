# Environment file used in the first step of an overcloud upgrade.
# This file is required by the tripleoclient and not expected to be updated
# by the operator. Please use additional -e env.yaml.
resource_registry:
  OS::TripleO::Tasks::*PreConfig: OS::Heat::None
  OS::TripleO::Tasks::*PostConfig: OS::Heat::None
  # Deprecated/Name changed services
  OS::TripleO::Services::MongoDb: OS::Heat::None

parameter_defaults:
  CephAnsiblePlaybook: default
  EnablePackageInstall: true
  ServerDeletionPolicy: retain
  UpgradeLevelNovaCompute: auto
  UpgradeLeappToRemove: ['openvswitch2.11','ovn2.11']
  UpgradeLeappToInstall: ['openvswitch2.13','ovn2.13']
  UpgradeInitCommonCommand: |
    #!/bin/bash
    set -eu
  DnfStreams: [{'module':'container-tools', 'stream':'3.0'}]

# A Heat environment file which can be used to enable a
# Cinder NVMeOF backend, configured via puppet
resource_registry:
  OS::TripleO::Services::CinderBackendNVMeOF: ../deployment/cinder/cinder-backend-nvmeof-puppet.yaml

parameter_defaults:
  CinderEnableNVMeOFBackend: true
  CinderNVMeOFBackendName: 'tripleo_nvmeof'
  CinderNVMeOFTargetPort: 4420
  CinderNVMeOFTargetHelper: 'nvmet'
  CinderNVMeOFTargetProtocol: 'nvmet_rdma'
  CinderNVMeOFTargetPrefix: 'nvme-subsystem'
  CinderNVMeOFTargetPortId: 1
  CinderNVMeOFTargetNameSpaceId: 10

  ControllerParameters:
    ExtraKernelModules:
      nvmet: {}
      nvme-fabrics: {}
  ComputeParameters:
    ExtraKernelModules:
      nvme-fabrics: {}
